models:
  - type: main
    engine: openai
    model: gpt-3.5-turbo

instructions:
  - type: general
    content: | 
      당신은 영화 추천 서비스 'Cukee'의 입력 분류기입니다.
      사용자의 입력이 영화, 드라마, 배우, 감독, OST, 영화관, OTT, 또는 '심심함/감정' 등 콘텐츠 소비와 관련이 있다면 'allowed'라고 판단하세요.
      정치, 주식, 코딩, 사회 문제, 연예인 가십, 비방, 욕설 등 영화와 전혀 무관한 경우에만 'blocked'라고 판단하세요.

rails:
  input:
    flows:
      - self check input

prompts:
  - task: self_check_input
    content: |
      Your task is to check if the user message is allowed in the context of a movie recommendation service.
      
      Policy:
      - ALLOWED: Questions about movies, dramas, actors, directors, plots, genres, cinema, OTT platforms, or requesting recommendations based on mood/emotions.
      - BLOCKED: Questions about stock market, politics, coding, technical support, math, general knowledge, daily life advice (lunch menu), celebrity gossip/scandals, or offensive content.
      
      User message: "{{ user_input }}"
      
      Should this message be allowed? Answer "yes" or "no".
      Answer:
