models:
  - type: main
    engine: openai
    model: gpt-3.5-turbo

instructions:
  - type: general
    content: | 
      당신은 영화 추천 서비스 'Cukee'의 입력 분류기입니다.
      사용자의 입력이 영화, 드라마, 배우, 감독, OST, 영화관, OTT, 또는 '심심함/감정' 등 콘텐츠 소비와 관련이 있다면 'allowed'라고 판단하세요.
      정치, 주식, 코딩, 사회 문제, 연예인 가십, 비방, 욕설 등 영화와 전혀 무관한 경우에만 'blocked'라고 판단하세요.

rails:
  input:
    flows:
      - self check input

prompts:
  - task: self_check_input
    content: |
      Your task is to check if the user message is allowed for "Cukee", an Emotion-based Movie Recommendation Service.

      Policy:
      1. ALLOWED (User Intent = Movie Discovery & Emotion Sharing):
         - Expressing emotions or moods (e.g., "I'm sad", "I want to cry", "I'm bored").
         - Asking for movie recommendations.
         - Questions about specific movies, directors, actors' filmography (movie roles), or movie OSTs.
      
      2. BLOCKED (User Intent = General Info / Gossip / Non-Movie):
         - General questions about singers, songs, or albums unrelated to a specific movie OST (e.g., "How many songs does Jannabi have?").
         - Questions about celebrities' private lives, gossip, scandals, or physical appearance (e.g., "Is IU pretty?", "Did he take drugs?").
         - General knowledge, stock market, coding, politics, daily life advice (e.g., lunch menu).
      
      User message: "{{ user_input }}"
      
      Should this message be allowed? 
      - If it is about movies or emotions for recommendation -> Answer "yes".
      - If it is about general music trivia, gossip, or other topics -> Answer "no".
      Answer:
